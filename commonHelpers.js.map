{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/icon.png","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport async function getPhotosByRequest(userRequest, currentPage) {\n  const API_KEY = '42307458-71f98d2a331f0bd294b8fc1ec';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINTS = '/api/';\n  const url = BASE_URL + END_POINTS;\n\n  const params = {\n    key: API_KEY,\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n    page: currentPage,\n  };\n\n  const response = await axios.get(url, { params });\n\n  return response.data;\n}\n","import SimpleLightbox from 'simplelightbox';\n\nlet lightBox;\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input-search'),\n  button: document.querySelector('.button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n  buttonLoader: document.querySelector('.btn-more'),\n};\n\nexport function photosTemplate(photos) {\n  return photos\n    .map(data => {\n      return `\n      <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n            <div class=\"info\">\n            <p> <span class=\"info-text\">Likes</span> <br/> ${data.likes}</p>\n            <p><span class=\"info-text\">Views</span> <br/> ${data.views}</p>\n            <p><span class=\"info-text\">Comments</span> <br/> ${data.comments}</p>\n            <p><span class=\"info-text\">Downloads</span> <br/> ${data.downloads}</p>\n            </div>\n            </li>\n      `;\n    })\n    .join('');\n}\n\nexport function renderPhotos(photos) {\n  const galleryMarkup = photosTemplate(photos);\n  refs.gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n\n  if (typeof lightBox !== 'undefined') {\n    lightBox.refresh();\n  } else {\n    lightBox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\n","export default \"data:image/png;base64,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\"","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotosByRequest } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-function';\nimport { refs } from './js/render-function';\n\nimport imgIcon from './img/icon.png';\n\nlet userInput;\nlet page;\nlet maxPage;\n\nhideLoader();\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.buttonLoader.addEventListener('click', onLoadMoreClick);\n\nasync function onFormSubmit(e) {\n  clearGallery();\n\n  e.preventDefault();\n\n  userInput = refs.input.value.trim();\n\n  if (userInput === '') {\n    iziToast.error({\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n    });\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  showLoader();\n  hideLoadBtn();\n  const userRequest = e.target.elements.search.value.trim();\n  try {\n    const data = await getPhotosByRequest(userRequest, page);\n    maxPage = Math.ceil(data.totalHits / 15);\n    page = 1;\n    if (data.hits.length === 0) {\n      hideLoader();\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        transitionIn: 'fadeInLeft',\n      });\n    } else {\n      renderPhotos(data.hits);\n    }\n  } catch (err) {\n    iziToast.error({\n      message: err.message || 'An error occurred. Please try again later.',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n    });\n  }\n  hideLoader();\n\n  checkBtnVisibleStatus();\n\n  e.target.reset();\n}\n\nasync function onLoadMoreClick() {\n  page += 1;\n  showLoader();\n  const data = await getPhotosByRequest(userInput, page);\n  hideLoader();\n  renderPhotos(data.hits);\n  checkBtnVisibleStatus();\n\n  const height = refs.gallery.firstElementChild.getBoundingClientRect().height;\n\n  scrollBy({\n    behavior: 'smooth',\n    top: height * 2,\n  });\n}\n\nfunction showLoadBtn() {\n  refs.buttonLoader.classList.remove('hidden');\n}\nfunction hideLoadBtn() {\n  refs.buttonLoader.classList.add('hidden');\n}\n\nfunction showLoader() {\n  refs.loader.style.display = 'block';\n}\nfunction hideLoader() {\n  refs.loader.style.display = 'none';\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n\nfunction checkBtnVisibleStatus() {\n  if (page >= maxPage) {\n    hideLoadBtn();\n    hideLoader();\n    iziToast.show({\n      message: `We're sorry, but you've reached the end of search results.`,\n      position: 'topRight',\n      color: 'blue',\n      iconUrl: imgIcon,\n      transitionIn: 'fadeInLeft',\n    });\n  } else {\n    showLoadBtn();\n  }\n}\n"],"names":["getPhotosByRequest","userRequest","currentPage","API_KEY","url","params","axios","lightBox","refs","photosTemplate","photos","data","renderPhotos","galleryMarkup","SimpleLightbox","imgIcon","userInput","page","maxPage","hideLoader","onFormSubmit","onLoadMoreClick","e","clearGallery","iziToast","showLoader","hideLoadBtn","err","checkBtnVisibleStatus","height","showLoadBtn"],"mappings":"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"}