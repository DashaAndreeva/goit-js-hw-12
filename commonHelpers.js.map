{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport async function getPhotosByRequest(userRequest, currentPage) {\n  const API_KEY = '42307458-71f98d2a331f0bd294b8fc1ec';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINTS = '/api/';\n  const url = BASE_URL + END_POINTS;\n\n  const params = {\n    key: API_KEY,\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n    page: currentPage,\n  };\n\n  const response = await axios.get(url, { params });\n\n  return response.data;\n}\n","import SimpleLightbox from 'simplelightbox';\n\nlet lightBox;\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input-search'),\n  button: document.querySelector('.button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nexport function photosTemplate(photos) {\n  return photos\n    .map(data => {\n      return `\n      <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n            <div class=\"info\">\n            <p> <span class=\"info-text\">Likes</span> <br/> ${data.likes}</p>\n            <p><span class=\"info-text\">Views</span> <br/> ${data.views}</p>\n            <p><span class=\"info-text\">Comments</span> <br/> ${data.comments}</p>\n            <p><span class=\"info-text\">Downloads</span> <br/> ${data.downloads}</p>\n            </div>\n            </li>\n      `;\n    })\n    .join('');\n}\n\nexport function renderPhotos(photos) {\n  const galleryMarkup = photosTemplate(photos);\n  refs.gallery.innerHTML = galleryMarkup;\n\n  if (typeof lightBox !== 'undefined') {\n    lightBox.refresh();\n  } else {\n    lightBox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\n","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotosByRequest } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-function';\nimport { refs } from './js/render-function';\n\nrefs.loader.style.display = 'none';\n\nlet query;\nlet page;\nlet maxPage;\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  clearGallery();\n\n  e.preventDefault();\n\n  maxPage = Math.ceil(data.totalResults / 15);\n\n  const userInput = refs.input.value.trim();\n\n  if (userInput === '') {\n    iziToast.error({\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n    });\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  refs.loader.style.display = 'block';\n\n  const userRequest = e.target.elements.search.value.trim();\n  try {\n    const data = await getPhotosByRequest(userRequest, page);\n    if (data.hits.length === 0) {\n      refs.loader.style.display = 'none';\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n        transitionIn: 'fadeInLeft',\n      });\n    } else {\n      renderPhotos(data.hits);\n    }\n  } catch (err) {\n    iziToast.error({\n      message: err.message || 'An error occurred. Please try again later.',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n    });\n  }\n  refs.loader.style.display = 'none';\n\n  e.target.reset();\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}\n"],"names":["getPhotosByRequest","userRequest","currentPage","API_KEY","url","params","axios","lightBox","refs","photosTemplate","photos","data","renderPhotos","galleryMarkup","SimpleLightbox","page","onFormSubmit","e","clearGallery","iziToast","err"],"mappings":"owBACO,eAAeA,EAAmBC,EAAaC,EAAa,CACjE,MAAMC,EAAU,qCAGVC,EAFW,sBACE,QAGbC,EAAS,CACb,IAAKF,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAMC,CACV,EAIE,OAFiB,MAAMI,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAEhC,IAClB,CClBA,IAAIE,EAEG,MAAMC,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,eAAe,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EACJ,IAAIC,GACI;AAAA,0CAC6BA,EAAK,aAAa;AAAA,8CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,6DAErBA,EAAK,KAAK;AAAA,4DACXA,EAAK,KAAK;AAAA,+DACPA,EAAK,QAAQ;AAAA,gEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,OAIzE,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaF,EAAQ,CACnC,MAAMG,EAAgBJ,EAAeC,CAAM,EAC3CF,EAAK,QAAQ,UAAYK,EAErB,OAAON,EAAa,IACtBA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CChCAN,EAAK,OAAO,MAAM,QAAU,OAG5B,IAAIO,EAGJP,EAAK,KAAK,iBAAiB,SAAUQ,CAAY,EAEjD,eAAeA,EAAaC,EAAG,CAS7B,GARAC,IAEAD,EAAE,eAAc,EAEN,KAAK,KAAK,KAAK,aAAe,EAAE,EAExBT,EAAK,MAAM,MAAM,KAAI,IAErB,GAAI,CACpBW,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,aAAc,YACpB,CAAK,EACD,MACD,CACDX,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMP,EAAcgB,EAAE,OAAO,SAAS,OAAO,MAAM,OACnD,GAAI,CACF,MAAMN,EAAO,MAAMX,EAAmBC,EAAac,CAAI,EACnDJ,EAAK,KAAK,SAAW,GACvBH,EAAK,OAAO,MAAM,QAAU,OAC5BW,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,aAAc,YACtB,CAAO,GAEDP,EAAaD,EAAK,IAAI,CAEzB,OAAQS,EAAK,CACZD,EAAS,MAAM,CACb,QAASC,EAAI,SAAW,6CACxB,SAAU,WACV,aAAc,YACpB,CAAK,CACF,CACDZ,EAAK,OAAO,MAAM,QAAU,OAE5BS,EAAE,OAAO,OACX,CAEA,SAASC,GAAe,CACtBV,EAAK,QAAQ,UAAY,EAC3B"}